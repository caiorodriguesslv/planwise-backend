{
  "info": {
    "name": "Planwise - Metas",
    "description": "Collection para testes de metas do Planwise",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Criar Meta",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"description\": \"Guardar para viagem\",\n  \"targetValue\": 5000.00,\n  \"deadline\": \"2024-12-31\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/goals",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals"]
        }
      }
    },
    {
      "name": "Listar Todas as Metas",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/goals",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals"]
        }
      }
    },
    {
      "name": "Listar Metas por Status - Em Andamento",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/goals/status/EM_ANDAMENTO",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals", "status", "EM_ANDAMENTO"]
        }
      }
    },
    {
      "name": "Listar Metas Vencidas",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/goals/expired",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals", "expired"]
        }
      }
    },
    {
      "name": "Buscar Meta por ID",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/goals/1",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals", "1"]
        }
      }
    },
    {
      "name": "Atualizar Meta",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"description\": \"Guardar para viagem - Atualizado\",\n  \"targetValue\": 6000.00,\n  \"deadline\": \"2024-12-31\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/goals/1",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals", "1"]
        }
      }
    },
    {
      "name": "Atualizar Progresso da Meta",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/goals/1/progress?currentValue=1000.00",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals", "1", "progress"],
          "query": [
            {
              "key": "currentValue",
              "value": "1000.00"
            }
          ]
        }
      }
    },
    {
      "name": "Adicionar ao Progresso da Meta",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/goals/1/add-progress?amount=500.00",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals", "1", "add-progress"],
          "query": [
            {
              "key": "amount",
              "value": "500.00"
            }
          ]
        }
      }
    },
    {
      "name": "Buscar Metas por Texto",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/goals/search?search=viagem",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals", "search"],
          "query": [
            {
              "key": "search",
              "value": "viagem"
            }
          ]
        }
      }
    },
    {
      "name": "Contar Metas por Status",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/goals/count/status/EM_ANDAMENTO",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals", "count", "status", "EM_ANDAMENTO"]
        }
      }
    },
    {
      "name": "Atualizar Metas Vencidas",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/goals/update-expired",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals", "update-expired"]
        }
      }
    },
    {
      "name": "Deletar Meta",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/goals/1",
          "host": ["{{baseUrl}}"],
          "path": ["api", "goals", "1"]
        }
      }
    }
  ]
}
